---
title: "VIM 基本操作"
categories:
  - coding
excerpt: "vimtutor 内容整理"
tags:
  - 笔记
last_modified_at: 2020-2-15T30:15:32-17:45
---

**VIM** 编辑器的基本操作命令整理。

#### VIM 进入退出与保存

终端输入 `vim` 进入 **VIM**。

输入 `:q!` 不保存即退出 **VIM** 。<br>
输入 `:w` 保存， `:wq` 保存并退出 。

#### 移动

`h` 光标左移，<br>
`j` 光标下移，<br>
`k` 光标上移，<br>
`l` 光标右移。

`w` 跳转至下一个单词开头。<br>
`e` 跳转至当前单词末尾。<br>
`$` 跳转至当前行末。<br>
`0` 跳转至行首。

操作可计数。如 `2w` 则跳转两个单词。

当然方向键也可。

#### 添加文本

输入 `i` 在光标处进入插入模式。<br>
输入 `a` 在光标后一个位置进入插入模式。<br>
输入 `A` 在光标所在行后进入插入模式。<br>
输入 `o` 在光标下方添加新的一行并进入插入模式。<br>
输入 `O` 在光标上方添加新的一行并进入插入模式。

按下 `esc` 键退回正常模式。

#### 删除文本

按 `x` 删除光标处字母。<br>
按 `dw` 从光标处删除到下一个单词开头的前一个位置。<br>
按 `de` 从光标处删除到当前单词末尾。<br>
按 `d$` 从光标处删除至行末。<br>
按 `dd` 删除整行。

操作可计数，如 `d2w` ， `3dd` 。

#### 撤销操作

`u` 撤销一次操作。<br>
`U` 撤销对光标所在行的所有操作。

`CTRL-R` 撤销“撤销”操作。

#### 置入命令

按 `p` 置入被删除或是复制的内容。若被删除的是一整行，则置入到光标所在行的下一行，否则从光标处开始置入。

#### 置换文本

输入 `r` 可以置换光标处字母置换为该字母。<br>
输入 `R` 可以置换多个字母。

#### 更改文本

输入 `cw` 可从光标处修改至下一个单词开头的前一个位置。<br>
输入 `ce` 可从光标处修改至该单词末尾。<br>
输入 `c$` 可从光标处修改至行末。<br>

操作可计数，如 `c4w` 。

#### 定位及文件状态

输入 `CTRL-G` ，文件状态会显示在底部。<br>
输入 `G` 跳转到全文最后一行；输入 `gg` 跳转到全文第一行；输入行数后按下 `G` 跳转到该行。

#### 查找字符串

输入 `/` 与自己想要查找的字符串，即可顺向查找该字符串。例如 `/me` 即从前往后查找文件中的字符串 `me` 。<br>
按 `n` 移动到下一个该字符串，按 `N` 移动到上一个该字符串。

输入 `?` 与自己想要查找的字符串，即可逆向查找该字符串。例如 `?/you` 即从后往前查找文件中的字符串 `you` 。<br>
与顺序查找相反，按 'n' 移动到上一个该字符串，按 `N` 移动到下一个该字符串

`CTRL-O` 返回退回之前的位置，`CTRL-I` 跳转至较新的位置。

#### 查找配对括号

将光标放在某一括号处，按下 `%` 即可跳转到与之配对的括号。

#### 替换字符串

输入 `:s/old/new` ，将光标所在行的第一个 `old` 替换为 `new` 。<br>
输入 `:s/old/new/g` ，将光标所在行的所有 `old` 替换为 `new` 。 <br>
输入 `:#,#s/old/new/g` ，将某两行之间的的所有 `old` 替换为 `new` ，命令中两个 `#` 分别代表起始行和终止行行号。<br>
输入 `:%s/old/new/g` ，将全文的所有 `old` 替换为 `new` 。
输入 `:%s/old/new/gc` ，找到全文所有 `old` ，并一次询问是否替换为 `new` 。

#### VIM 内执行外部命令

输入 `:!` 后输入命令，如`:!ls` 。敲回车后回到 **VIM** 。

#### 另存为

输入 `:w FILENAME` ，当前文件中的的内容会保存到名为 `FILENAME` 的文件中。

#### 部分内容另存为

按下 `v` 移动光标使所需内容被选中，按下 `:` 后窗口底部出现 `:'<,'>` ，然后输入 `w TEST` ，选中内容会被保存到名为 `TEST` 的文件中。

`v` 键可对文本内容进行选取。选取内容后按下任意操作符即可操作被选内容，如按下 `d` 可删除所选文本。

#### 提取并合并文件

输入 `:r TEST` ，可将名为 `TEST` 的文件中的内容复制到当前文件中，从光标出开始置入。

除了可以提取文件内容，还可以提取外部操作命令的输出内容，如 `:r !ls` 。

#### 复制粘贴

按下 `v` 后选中所需文本，按 `y` 复制，按 `p` 从光标处后一个位置开始粘贴已复制的内容。

#### 设置类命令

在查找字符串时比较有用。

输入 `:set ic` 忽略大小写。若只想在一次查找忽略大小写，可输入在搜索命令后面添加 `\c` ，如`/searchContent\c` 。
输入 `:set hls is` 打开查找高亮与单词部分匹配。<br>
输入 `:set noic` 取消忽略大小写。<br>
输入 `:set nohlsearch` 取消高亮。<br>
输入 `:set noinsearch` 取消部分匹配。

#### 打开在线帮助

输入 `:help` 打开在线帮助。可为之提供参数，如 `:help w` 。

#### 赋予 VIM 特性

编辑 `.vimrc` 文件。

#### 命令补全

输入命令时按下 `<TAB>` 或 `CTRL-D` 可以自动补全。如在输入 `:ed` 后按下 `<TAB>` ，命令会自动补全为 `:edit` 。<br>
文件名也可以自动补全。
